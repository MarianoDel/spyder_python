#### USO DE EMACS ######## http://www.masteringemacs.org

C-g  	    //quit current command

### Funcionalidad de Archivos ##
C-x C-f 	  //busca y abre archivo o crea uno nuevo
C-x s		  //guarda el archivo actual del buffer
C-x C-s		  //guarda todos los buffers
C-x k		  //Close file or buffer

#Buffers
C-x b		//Switch Buffers
C-x C-b		//Get a List of Buffers
C-x o		//Switch to Other Window
C-x 1		//Close Other Window
C-x 2		//Split the Screen Horizontally
C-x 3           //Split vertical
                //custom movements

C-x <up>        //shrink-window
C-x <down>      //enlarge-window
C-x <left>      //shrink-window-horizontally
C-x <right>     //enlarge-window-horizontally


### Edicion de Texto ###
C-space	    //hace la primera marca para seleccionar texto
M-w	    //copia texto sin borrar original
C-w	    //copia texto borra original
C-k         //corta hasta el final de linea
M-k	    //borra hasta el final del parrafo (queda en kill ring)
C-y 	    //pega texto copiado, incluso desde otras ventanas

#Undo
C-x u	    //deshacer (undo)
C-_ 	    //(redo)

#Movimientos del Cursor
C-n	     //next line
C-p	     //previus line
C-a	     //principio de linea
C-e	     //fin de linea
M-f	     //avanzar una palabra
M-b	     //retroceder una palabra
M-e	     //avanza una sentencia entera
M-a	     //retrocede una sentencia entera
C-up/down    //avanza o retrocede un parrafo entero

#Movimientos de pagina
C-v	     //avanza una pagina
M-v	     //retrocede una pagina
M->	     //final del documento
M-<	     //principio del documento
C-u C-space  //SALTO ATRAS (ultimo salto)

#Movimientos por expresiones
C-M-f	     //proximo cierre de expresion { [ "
C-M-b	     //cierre anterior de expresion } ] "
C-M-d	     //se mueve al proximo grupo de expresiones
C-M-u	     //se mueve al grupo anterior de expresiones

#Search	ISearch (find and replace)
C-s search-word	//C-s o C-r voy saltando entre coincidencias
M-c 		//quita o agrega case sensivity de la busqueda
C-w		//pega palabra
C-y		//pega texto
M-n		//busquedas anteriores

#Indentation
C-a M-f
M-m
Tab		//indent line
C-M-\		//indent selection

#Bookmarts register
C-x r space	//pone un bookmark
C-x j 		//salta entre bookmarks
C-x r m		//poner nombre al bookmark
C-x r b		//saltar al nombre de bookmark
C-x r l		//listar bookmarks

#IMenu
M-x imenu	//saltar entre funciones del buffer

#TAGS
M-,
M-.
M-*			//jump back
M-x tags-apropos       	//wildcard search

#GOTO Line
M-g g


### Running SHELL Comands
M-x eshell  //ejecuta shell de emacs permite movimientos entre comandos
M-x shell   //ejecuta un shell muy chico, envia linea completa NO permite movimeintos entre comandos
M-x term    //ejecuta shell /bin/bash completo (no funciona en windows)
C-c C-c     //para terminar el programa del shell o eshell

### Modos de edicion ###
C-h m	     	 //lista todos los modos


### Customizaciones ###
~/.emacs	    //lee el lsitados de customizaciones antes de arrancar

#para customizar colores, fondo highlight
M-x customize
(menu-bar-mode -1)	//quita el menu en X
(tool-bar-mode -1)	//quita los iconos en X
(scroll-bar-mode -1)	//quita la barra lateral

#numeros de linea
M-x linum-mode	 	//activa los nuemeros de linea en el buffer
M-x global-linum-mode	//activa los numeros de linea en todos los buffers
(global-linum-mode 1)	//poner en .emacs para activar antes de entrar

#para probar customizaciones del archivo u otro archivo, seleccionar el texto y
M-x eval-region		     //solo parte seleccionada
M-x eval-buffer		     //evalua todo el buffer
C-M-x 			     //evalua solo la linea OJO no funciona

#Auto-Indent
C-j	//activa el modo
(define-key global-map (kbd "RET") 'newline-and-indent)	//global en .emacs



#### USO DE EMACS # OTRO MAS ####### http://tuhdo.github.io/emacs-tutor.html

C-x i pega una archivo dentro de este archivo, ej test1.txt
(switch-to-buffer (test2.txt))
(buffer-size)

M-x find-file-at-point abre el archivo debajo del cursor (escrito en el text)
test1.txt                       

M-x goto-line   ...  2
M-x linum-mode       muestra el numero de lineas


M-g g    //saltar a linea particular

C-M-f forward-sexp adelanta en una expresion balanceada
C-M-b backward-sexp
C-M-k kill balanced expression
C-M-SPC mark-sexp

C-x C-+ agrenada el tamaño de la letra
C-x C-- achica el tamaño de la letra

C-space selecciona un area
C-x C-x cambia el punto por la marca
C-w borra lo seleccionado
C-y pega lo seleccionado
M-y pego anteriores del kill ring

//ver el kill-ring
//C-h v kill-ring

// BOOKMARKS //
C-x r m marca el bookmark
C-x r b salta al bookmark TAB muestra la lista
C-x r l lista bookmarks

// COMMENTS //
M-; comenta al final de una linea o si es hay bloque marcado multiples lineas
C-/ con una funcion propia en .emacs comenta linea o multiples lineas

// SEARCH //
C-s busca hacia adelante, salta con multiples C-s
C-r busca hacia atras
C-s C-w busca hacia adelante lo marcado por el punto, para incluir mas expresiones C-w
C-s M-p busca entradas anteriores M-n y posteriores

M-s .	Command: isearch-forward-symbol-at-point
 	Feed the symbol at point to C-s
 	perform search
M-s o	Command: occur
 	Run occur
M-s h .	Command: highlight-symbol-at-point
 	Highlight the symbol at point
M-s h l	Command: highlight-lines-matching-regexp
 	Highlight lines that match input regexp
M-s h r	Command: highlight-regexp
 	Highlight according to regexp
M-s h u	Command: unhighlight-regexp
 	Turn off highlighting strings that match
 	regexp.

//M-% find and replace

#### FILE MANAGER WITH DIRED ####
//3 formas de arrancarlo
M-x dired
C-x d arranca Dired en el directorio seleccionado
C-x 4 d arranca Dired en el directorio seleccionado en otra ventana
         C-x C-f selecciona directorio para entrar con Dired
q termina Dired

n move below
p move above
C-s buscar con I-search

f, e, RET open file at pointer
o abrir en otra ventana
C-o abrir en otra ventana pero no ir a la ventana

d marca el archivo para borrarlo
u desmarca archivos
x ejecuta el borrado
#### END DIRED ####

#### IDO-MODE ####
en .emacs
(require 'ido)
   (ido-mode t)

//cuando trae problemas, como para crear archivo nuevo,
C-j crea archivo con el nombre elegido (no el recomendado)
C-f vuelve al modo find-file (without-ido-mode)
#### END IDO-MODE ####

#### MULTIPLE CURSORS ####
https://github.com/magnars/multiple-cursors.el
M-x mc/...
ej. pinto o marco un area (palabra)
M-x mc/mark-more-like-this-extend  y voy marcando con las flechas
C-g deja de marcar y pasa a cursores que puedo usar todos juntos!
#### END MULTIPLE CURSORS ####


### Funcionalidad de paquetes
#listar paquetes desde ELPA (por defecto)
M-x list-packages      //'i' para marcar 'u' desmarcar 'x' hacer install

#mas cantidad de repositorios, colocar esto en .emcas
(require 'package)
(add-to-list 'package-archives '("melpa" . "http://melpa.org/packages/"))

#cuando voy a activar los paquetes
(package-initialize)

#list of installed .emacs.d/elpa/*
better-defaults
material-theme


#### FUNCIONALIDADES CC-MODE (major mode) ####
#Indentation
TAB en un renglon o region
C-M-q (c-indent-exp) //Indents an entire balanced brace or parenthesis expression
C-c C-q (c-indent-defun) //Indents the entire top-level function

C-M-h (c-mark-function)

#Comments (overrided)
C-/  linea o region seleccionada comenta en c++ "//"

#Movements Command
C-M-a (c-beginning-of-defun)
C-M-e (c-end-of-defun)

M-a (c-beginning-of-statement)
M-e (c-end-of-statement)

C-c C-u (c-up-conditional)
M-x c-up-conditional-with-else
M-x c-down-conditional
M-x c-down-conditional-with-else
C-c C-p (c-backward-conditional)
C-c C-n (c-forward-conditional)
M-x c-backward-into-nomenclature
M-x c-forward-into-nomenclature

#Styles
C-c . style-name <RET>

#HideIfDef minor-mode
M-x hide-ifdef-mode
M-x hide-ifdefs         (oculta las definiciones que no son validas)

C-c @           Prefix Command
C-c @ C-d       hide-ifdef-block
C-c @ C-q       hide-ifdef-toggle-read-only
C-c @ C-s       show-ifdef-block
C-c @ C-w       hide-ifdef-toggle-shadowing
C-c @ D         hide-ifdef-set-define-alist
C-c @ U         hide-ifdef-use-define-alist
C-c @ d         hide-ifdef-define
C-c @ h         hide-ifdefs
C-c @ s         show-ifdefs
C-c @ u         hide-ifdef-undef


#### USO GNU Global, funciona muy bien en linea de comandos!!! ####
M-x ggtags-mode activa el modo o lo desactiva
M-x ggtags- TAB funciones disponibles
M-x ggtags-create-tags si el directorio-proyecto no tiene GTAGS
M-x ggtags-find-file nombre.c busca y abre el archivo dentro del proyecto
si en cualquier busqueda hay varios archivos/definiciones/declaraciones M-n M-p me mueve dentro de esas

M-. salta entre definiciones y declaraciones
M-* vuelve atras los saltos

#docs gnu-global
#https://www.gnu.org/software/global/globaldoc_toc.html
#https://github.com/leoliu/ggtags
#ver despues para python con pygments
#bajo paquete ggtags de melpa-stable


### DOCS GENERALES
http://ergoemacs.org/emacs/effective_emacs.html
https://www.emacswiki.org/emacs/IndentingC
https://www.gnu.org/software/emacs/manual/
https://www.gnu.org/software/emacs/manual/html_mono/ccmode.html
http://pragmaticemacs.com/emacs/multiple-cursors/
